<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Valentine Qualification</title>
    <style>
        body, html {
            height: 100%; width: 100%; margin: 0; padding: 0;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            overflow: hidden; display: flex; justify-content: center; align-items: center;
            background-color: #fff0f3;
        }
        
        #mobile-bg {
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%;
            object-fit: cover; 
            opacity: 0.5; 
            z-index: -1;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px; border-radius: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            text-align: center; max-width: 350px; width: 85%;
            border: 4px solid #ff4d6d; z-index: 10;
        }

        .kitty-img { width: 120px; margin-bottom: 15px; }
        h1 { color: #ff4d6d; font-size: 1.4rem; margin-bottom: 20px; min-height: 80px; }
        
        /* FIXED ALIGNMENT */
        .btn-container {
            display: flex; 
            justify-content: center; 
            align-items: center;
            gap: 15px;
            width: 100%;
            min-height: 50px; /* Reduced height to keep buttons in line */
            position: relative;
        }

        button {
            min-width: 100px; /* Ensures buttons are same size */
            padding: 12px 0; 
            font-size: 1.1rem; border: none;
            border-radius: 50px; cursor: pointer; font-weight: bold;
            touch-action: manipulation;
        }

        #yesBtn { background: #ff4d6d; color: white; }
        #noBtn { background: #6c757d; color: white; transition: none; }

        .moving { position: fixed !important; z-index: 2000 !important; }

        .popup {
            display: none; position: fixed; top: 50%; left: 50%;
            transform: translate(-50%, -50%); background: white;
            padding: 25px; border-radius: 20px; box-shadow: 0 0 100px rgba(0,0,0,0.5);
            z-index: 9999; text-align: center; border: 3px solid #ff4d6d; width: 270px;
        }
        .popup button { background: #ff4d6d; color: white; margin-top: 15px; padding: 10px 20px; border-radius: 10px; width: auto; min-width: 80px; }
    </style>
</head>
<body>

    <img id="mobile-bg" src="https://prashantdefender.github.io/For-my-Valentine/IMG-20260110-WA0007.jpg" alt="background">

    <audio id="bgMusic" loop>
        <source src="https://github.com/prashantDefender/For-my-Valentine/blob/main/Edd_Sheeran_-_Perfect_(mp3.pm).mp3?raw=true" type="audio/mpeg">
    </audio>

    <div id="main-card" class="card">
        <img src="https://github.com/prashantDefender/For-my-Valentine/blob/main/shy-cute.gif?raw=true" class="kitty-img">
        <h1 id="question-text">First, do you think I'm the funniest guy you know?</h1>
        <div class="btn-container">
            <button id="yesBtn" onclick="onYesClick()">Yes</button>
            <button id="noBtn" onclick="onNoClick()" onmouseover="onNoHover()" ontouchstart="onNoHover()">No</button>
        </div>
    </div>

    <div id="popup" class="popup">
        <h2 id="popup-title"></h2>
        <p id="popup-msg"></p>
        <button onclick="closePopup()">Close</button>
    </div>

    <script>
        let currentStep = 0;
        let noCount = 0;
        const music = document.getElementById('bgMusic');

        const stages = [
            "First, do you think I'm the funniest guy you know?",
            "Do you ever get scared of me ?",
            "Is it true that you have the most handsome boyfriend ever?",
            "Will you be my Valentine? ‚ù§Ô∏è"
        ];

        const popupMessages = [
            {title: "ü§® Wait...", msg: "Did you just try to click No?"},
            {title: "üôÑ Nice try!", msg: "That's not even an option today."},
            {title: "üò± Oh No!", msg: "The 'No' button is definitely broken..."},
            {title: "‚ù§Ô∏è Give up!", msg: "Just say Yes already! ü•∞"}
        ];

        function onNoHover() {
            const noBtn = document.getElementById('noBtn');
            noBtn.classList.add('moving');
            
            // Random movement within phone screen boundaries
            const x = Math.max(10, Math.random() * (window.innerWidth - 110));
            const y = Math.max(10, Math.random() * (window.innerHeight - 50));
            
            noBtn.style.left = x + 'px';
            noBtn.style.top = y + 'px';

            if (currentStep === 3) {
                if (noCount < popupMessages.length) {
                    document.getElementById('popup-title').innerText = popupMessages[noCount].title;
                    document.getElementById('popup-msg').innerText = popupMessages[noCount].msg;
                    document.getElementById('popup').style.display = 'block';
                    noCount++;
                }
                const yesBtn = document.getElementById('yesBtn');
                let size = parseFloat(window.getComputedStyle(yesBtn).fontSize);
                yesBtn.style.fontSize = (size + 5) + 'px';

